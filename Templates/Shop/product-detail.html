{% extends 'Layout/main.html' %} {% load static %} {% load filters %} 
{% block content %}
<main class="flex-grow bg-background pb-14 pt-36 xs:pt-36">
  <div class="container">
    {% if messages %}
    {% for message in messages %}
    {% if message.level == DEFAULT_MESSAGE_LEVELS.ERROR %}
    <div class="mb-6 flex items-center gap-x-2 rounded-lg p-4 text-sm text-red-500 /5" style="background-color:hsla(0,91%,71%,.1)">
      <svg class="h-6 w-6">
        <use xlink:href="#warning"></use>
      </svg>
    {% else %}
    <div class="mb-6 flex items-center gap-x-2 rounded-lg bg-primary/10 p-4 text-sm text-primary /5">
      <svg class="h-6 w-6">
        <use xlink:href="#cart"></use>
      </svg>
    {% endif %}
      {{ message }}
    </div>
    {%endfor%}
    {% endif %}
    <!-- Desktop Product Detail -->
    <div class="hidden lg:block">
      <!-- Product Detail Section -->
      <div class="mb-6 rounded-lg bg-muted p-6 shadow-base">
        <div class="mb-6 grid flex-grow grid-cols-12 gap-4">
          <div class="col-span-4">
            <div class="min-w-fit space-y-2">
              <!-- Product other actions -->
              <div class="py-2">
                <div class="flex items-center gap-x-4">
                  <!-- add to favorite -->

                  <div>
                    <button data-tooltip-target="add-to-favorite" type="button">
                      <svg class="h-6 w-6">
                        <use xlink:href="#heart" />
                      </svg>
                    </button>
                    <div
                      id="add-to-favorite"
                      role="tooltip"
                      class="tooltip invisible absolute z-10 inline-block rounded-lg bg-zinc-900 px-3 py-2 text-sm font-medium text-white opacity-0 shadow-sm transition-opacity duration-300 dark:bg-zinc-800"
                    >
                      افزودن به علاقه‌مندی ها
                    </div>
                  </div>

                  <!-- share on social -->
                  <div>
                    <button
                      id="dropdownMenuCopySocialShareLink"
                      data-dropdown-toggle="copy-social-share-link"
                      data-tooltip-target="share-on-social"
                      type="button"
                    >
                      <svg class="h-6 w-6">
                        <use xlink:href="#social-share" />
                      </svg>
                    </button>
                    <div
                      id="share-on-social"
                      role="tooltip"
                      class="tooltip invisible absolute z-10 inline-block rounded-lg bg-zinc-900 px-3 py-2 text-sm font-medium text-white opacity-0 shadow-sm transition-opacity duration-300 dark:bg-zinc-800"
                    >
                      اشتراک گذاری
                    </div>
                    <!-- Dropdown menu -->
                    <div
                      class="z-10 !ml-5 hidden w-50 overflow-hidden rounded-lg border bg-muted shadow-base"
                      id="copy-social-share-link"
                    >
                      <ul class="space-y-2 p-2">
                        <li>
                          <button
                            type="button"
                            data-link="https://www.google.com"
                            onclick="copyToClipboardSocialShareDesktop(this)"
                            class="flex w-full items-center justify-between rounded-lg px-4 py-3 text-sky-500 hover:bg-sky-500/10 dark:text-sky-400 dark:hover:bg-sky-400/10"
                          >
                            <div class="flex items-center gap-x-2">
                              <svg class="h-6 w-6">
                                <use xlink:href="#copy"></use>
                              </svg>
                              <span id="copyToClipboardSocialShareText">
                                کپی کردن لینک
                              </span>
                            </div>
                          </button>
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
              <!-- Main image -->
              <div>
                {% if product.main_image %}
                <img
                  src="{{ product.main_image.image.url }}"
                  alt=""
                  class="mx-auto"
                  loading="lazy"
                />
                {% endif %}
              </div>
              <!-- Gallery -->
              {% if product_images %}
              <div class="flex items-center justify-center gap-x-2">
                {% if product_images.0 %}
                <!-- image -->
                <button
                  type="button"
                  data-modal-target="product-gallery-modal"
                  data-modal-toggle="product-gallery-modal"
                  class="cursor-pointer rounded-lg border p-1"
                >
                  <img
                    src="{{ product_images.0.image.url }}"
                    alt=""
                    class="h-16 w-16 xl:h-20 xl:w-20"
                    loading="lazy"
                  />
                </button>
                {% endif%} {% if product_images.1 %}
                <!-- image -->
                <button
                  type="button"
                  data-modal-target="product-gallery-modal"
                  data-modal-toggle="product-gallery-modal"
                  class="cursor-pointer rounded-lg border p-1"
                >
                  <img
                    src="{{ product_images.1.image.url }}"
                    alt=""
                    class="h-16 w-16 xl:h-20 xl:w-20"
                    loading="lazy"
                  />
                </button>
                {% endif%} {% if product_images.2 %}
                <!-- image -->
                <button
                  type="button"
                  data-modal-target="product-gallery-modal"
                  data-modal-toggle="product-gallery-modal"
                  class="cursor-pointer rounded-lg border p-1"
                >
                  <img
                    src="{{ product_images.2.image.url }}"
                    alt=""
                    class="h-16 w-16 xl:h-20 xl:w-20"
                    loading="lazy"
                  />
                </button>
                {% endif%}

                <!-- Load more -->
                <button
                  type="button"
                  data-modal-target="product-gallery-modal"
                  data-modal-toggle="product-gallery-modal"
                  class="relative cursor-pointer rounded-lg border p-1"
                >
                  <img
                    src="{{ product_images.0.image.url }}"
                    alt=""
                    class="h-16 w-16 blur xl:h-20 xl:w-20"
                    loading="lazy"
                  />
                  <span class=" ">
                    <svg class="absolute inset-0 mx-auto my-auto h-6 w-6">
                      <use xlink:href="#horizontal-dot" />
                    </svg>
                  </span>
                </button>
              </div>
              {% endif %}
            </div>
          </div>
          <div class="col-span-8 flex min-h-full flex-col">
            <div class="mb-2 flex items-center gap-x-1 text-primary">
              {% if product.categories.get_last_child %}
              <a href="#"> {{ product.categories.get_last_child.title }} </a>
              <svg class="h-5 w-5">
                <use xlink:href="#chevron-left" />
              </svg>
              {% endif %}
            </div>
            <!-- Main Title ( persian ) -->
            <h1 class="mb-4 text-lg font-semibold">{{ product.title }}</h1>

            <div class="grid flex-grow grid-cols-2 gap-x-4">
              <!-- right side -->
              <div class="col-span-1">
                <!-- Title ( english) -->
                <div class="mb-4 flex items-center gap-x-2">
                  <h2 class="line-clamp-1 text-sm font-light text-text/60">
                    {{ product.title_en }}
                  </h2>
                  <span
                    class="h-px flex-grow bg-background dark:bg-muted/10"
                  ></span>
                </div>
                <!-- comments & SKU -->
                <div
                  class="mb-4 flex items-center gap-x-4 text-sm font-light text-primary"
                >
                  <div>
                    <a href="#"> کد کالا {{ product.sku }}# </a>
                  </div>
                  <span
                    class="h-4 w-px rounded-full bg-background dark:bg-muted/10"
                  ></span>
                </div>
                <!-- users suggestion -->
                {% if product.is_suggested %}
                <div class="mb-4 flex gap-x-2">
                  <svg class="h-4 w-4 text-primary">
                    <use xlink:href="#like" />
                  </svg>
                  <p class="text-sm font-light text-text/60">
                    80% از خریداران، خرید این کالا را پیشنهاد کرده‌اند
                  </p>
                </div>
                {% endif %}

                <!-- Property -->
                <div>
                  <p class="mb-6 font-medium">ویژگی های محصول</p>

                  <ul class="space-y-4">
                    <li class="flex gap-x-2">
                      <div class="min-w-fit text-text/60">جنس :</div>
                      <div class="text-text/90">{% if product.material %} {{ product.material }} {% else %} {% endif %}</div>
                    </li>
                    <li class="flex gap-x-2">
                      <div class="min-w-fit text-text/60">اندازه :</div>
                      <div class="text-text/90">{% if product.size %} {{ product.size }} {% else %} {% endif %}</div>
                    </li>
                    <li class="flex gap-x-2">
                      <div class="min-w-fit text-text/60">
                        رنگ :
                      </div>
                      <div class="text-text/90">{% if product.color %} {{ product.color }} {% else %} {% endif %}</div>
                    </li>
                  </ul>
                </div>
              </div>

              <!-- left side -->
              <div class="col-span-1 flex flex-col justify-center">
                <div class=""></div>
                <div>
                  <!-- verified text -->
                  <div
                    class="mb-6 flex items-center gap-x-2 rounded-lg bg-primary/10 p-4 text-sm text-primary /5"
                  >
                    <svg class="h-6 w-6">
                      <use xlink:href="#verified" />
                    </svg>
                    تضمین سلامت فیزیکی و اصالت کالا
                  </div>
                  <form method="post" action="/add-user-order">
                    {% csrf_token %} {{ new_order_form.product_id }}

                    <!-- price -->
                    <div class="mb-6 flex items-center justify-between">
                      <div
                        class="flex h-12 w-32 items-center justify-between rounded-lg border px-4 py-1"
                      >
                        <button type="button" data-action="increment">
                          <svg class="h-6 w-6 text-primary">
                            <use xlink:href="#plus" />
                          </svg>
                        </button>
                        {{ new_order_form.count }}
                        <button type="button" data-action="decrement">
                          <svg class="h-6 w-6 text-red-600 dark:text-red-500">
                            <use xlink:href="#minus" />
                          </svg>
                        </button>
                      </div>
                      <div class="flex items-center gap-x-1 text-primary">
                        <span class="text-xl font-bold">1,800,000</span>
                        <span>تومان</span>
                      </div>
                    </div>
                    <!-- add to cart -->
                    <div class="mb-6">
                      <button class="btn-primary w-full py-3" type="submit">
                        افزودن به سبد خرید
                      </button>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="flex justify-between gap-4">
          <div
            class="flex w-full items-center gap-x-2 rounded-lg border px-2 py-4 text-sm text-text/60"
          >
            <svg class="h-6 w-6">
              <use xlink:href="#refund" />
            </svg>
            هفت روز ضمانت بازگشت کالا
          </div>

          <div
            class="flex w-full items-center gap-x-2 rounded-lg border px-2 py-4 text-sm text-text/60"
          >
            <svg class="h-6 w-6">
              <use xlink:href="#verified" />
            </svg>
            تضمین اصالت کالا
          </div>
          <div
            class="flex w-full items-center gap-x-2 rounded-lg border px-2 py-4 text-sm text-text/60"
          >
            <svg class="h-6 w-6">
              <use xlink:href="#support" />
            </svg>
            هفت روز هفته
          </div>
          <div
            class="flex w-full items-center gap-x-2 rounded-lg border px-2 py-4 text-sm text-text/60"
          >
            <svg class="h-6 w-6">
              <use xlink:href="#fast-delivery" />
            </svg>
            تحویل اکسپرس در اصفهان
          </div>
        </div>
      </div>
    </div>
    <!-- Mobile Product Detail-->
    <div class="lg:hidden">
      <!-- Product Detail Section -->
      <div class="mb-6 rounded-lg bg-muted p-4 shadow-base">
        <!-- Product Gallery -->
        <div class="relative mb-4">
          <div class="swiper product-image-mobile-swiper">
            <div class="swiper-wrapper">
              <div class="swiper-slide">
                <img
                  src="./assets/images/products/p1.png"
                  alt=""
                  class="mx-auto"
                  loading="lazy"
                />
              </div>
              <div class="swiper-slide">
                <img
                  src="./assets/images/products/p2.png"
                  alt=""
                  class="mx-auto"
                  loading="lazy"
                />
              </div>
              <div class="swiper-slide">
                <img
                  src="./assets/images/products/p3.png"
                  alt=""
                  class="mx-auto"
                  loading="lazy"
                />
              </div>
            </div>
            <div class="swiper-pagination text-left"></div>
          </div>
          <div class="absolute left-0 top-0 z-10">
            <div class="flex items-center gap-x-4">
              <!-- add to favorite -->
              <div>
                <button>
                  <svg class="h-6 w-6">
                    <use xlink:href="#heart" />
                  </svg>
                </button>
              </div>
              <!-- add to compare -->
              <div>
                <button>
                  <svg class="h-6 w-6">
                    <use xlink:href="#compare" />
                  </svg>
                </button>
              </div>

              <!-- share on social -->
              <div class="relative">
                <button
                  type="button"
                  onclick="copyToClipboardSocialShareMobile(this)"
                  data-link="https://www.google.com"
                >
                  <svg class="h-6 w-6">
                    <use xlink:href="#social-share" />
                  </svg>
                </button>
                <div
                  id="notify-copied-social-share-link-mobile"
                  class="absolute left-0 top-full z-10 hidden w-24 rounded-lg bg-zinc-900 px-3 py-2 text-center text-sm font-medium text-white shadow-sm transition-opacity duration-300 dark:bg-zinc-800"
                >
                  کپی شد !
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- breadcrumb -->
        <div class="mb-4 flex flex-wrap items-center gap-2">
          <div
            class="flex items-center gap-x-1 text-sm font-light text-primary md:text-base"
          >
            <a href="#">نایک</a>
            <svg class="h-5 w-5">
              <use xlink:href="#chevron-left" />
            </svg>
          </div>
          <div
            class="line-clamp-1 text-sm font-light text-primary md:text-base"
          >
            <a href="#"> کتونی ورزشی نایک </a>
          </div>
        </div>
        <!-- title -->
        <div class="mb-4 font-semibold md:text-lg">
          کفش پیاده روی مردانه نیو بالانس مدل Mdrftlm2
        </div>
        <!-- comments & SKU -->
        <div class="flex gap-x-4 text-sm font-light text-primary md:text-base">
          <div>
            <a href="#"> کد کالا 6457# </a>
          </div>
          <div>
            <a href="#"> 20 دیدگاه </a>
          </div>
        </div>
        <div class="my-4 h-px w-full bg-background"></div>
        <!-- variant -->
        <div class="mb-6 space-y-4">
          <!-- Color -->
          <div class="text-sm md:text-base">انتخاب رنگ</div>
          <fieldset class="flex flex-wrap items-center gap-1">
            <legend class="sr-only">Color</legend>

            <div>
              <input
                checked
                type="radio"
                name="color"
                value="color-1"
                id="color-1"
                class="peer hidden"
              />

              <label
                for="color-1"
                class="relative block cursor-pointer rounded-full border-2 p-2 shadow-base peer-checked:border-emerald-500 hover:border-border/50 peer-checked:dark:border-emerald-400 dark:hover:border-white/10"
              >
                <div class="flex items-center gap-x-2">
                  <div
                    class="h-5 w-5 rounded-full border-2 shadow-base dark:border-white/30"
                    style="background-color: black"
                  ></div>
                  <p class="text-sm text-text/90 md:text-base">مشکی</p>
                </div>
              </label>
            </div>
            <div>
              <input
                type="radio"
                name="color"
                value="color-2"
                id="color-2"
                class="peer hidden"
              />

              <label
                for="color-2"
                class="relative block cursor-pointer rounded-full border-2 p-2 shadow-base peer-checked:border-emerald-500 hover:border-border/50 peer-checked:dark:border-emerald-400 dark:hover:border-white/10"
              >
                <div class="flex items-center gap-x-2">
                  <div
                    class="h-5 w-5 rounded-full border-2 shadow-base dark:border-white/30"
                    style="background-color: gray"
                  ></div>
                  <p class="text-sm text-text/90 md:text-base">طوسی</p>
                </div>
              </label>
            </div>
            <div>
              <input
                type="radio"
                name="color"
                value="color-3"
                id="color-3"
                class="peer hidden"
              />

              <label
                for="color-3"
                class="relative block cursor-pointer rounded-full border-2 p-2 shadow-base peer-checked:border-emerald-500 hover:border-border/50 peer-checked:dark:border-emerald-400 dark:hover:border-white/10"
              >
                <div class="flex items-center gap-x-2">
                  <div
                    class="h-5 w-5 rounded-full border-2 shadow-base dark:border-white/30"
                    style="background-color: white"
                  ></div>
                  <p class="text-sm text-text/90 md:text-base">سفید</p>
                </div>
              </label>
            </div>
          </fieldset>
          <!-- Size -->

          <div class="mb-4 text-sm md:text-base">انتخاب سایز</div>
          <fieldset class="mb-4 flex flex-wrap items-center gap-2">
            <legend class="sr-only">Size</legend>

            <div>
              <input
                checked
                type="radio"
                name="size-mobile"
                value="size-mobile-1"
                id="size-mobile-1"
                class="peer hidden"
              />

              <label
                for="size-mobile-1"
                class="relative flex h-12 w-12 cursor-pointer items-center justify-center rounded-full border-2 p-1 shadow-base peer-checked:border-emerald-500 hover:border-border/50 peer-checked:dark:border-emerald-400 dark:hover:border-white/10"
              >
                <p class="text-sm font-bold text-text/90 md:text-base">37</p>
              </label>
            </div>
            <div>
              <input
                type="radio"
                name="size-mobile"
                value="size-mobile-2"
                id="size-mobile-2"
                class="peer hidden"
              />

              <label
                for="size-mobile-2"
                class="relative flex h-12 w-12 cursor-pointer items-center justify-center rounded-full border-2 p-1 shadow-base peer-checked:border-emerald-500 hover:border-border/50 peer-checked:dark:border-emerald-400 dark:hover:border-white/10"
              >
                <p class="text-sm font-bold text-text/90 md:text-base">40</p>
              </label>
            </div>
            <div>
              <input
                type="radio"
                name="size-mobile"
                value="size-mobile-3"
                id="size-mobile-3"
                class="peer hidden"
              />

              <label
                for="size-mobile-3"
                class="relative flex h-12 w-12 cursor-pointer items-center justify-center rounded-full border-2 p-1 shadow-base peer-checked:border-emerald-500 hover:border-border/50 peer-checked:dark:border-emerald-400 dark:hover:border-white/10"
              >
                <p class="text-sm font-bold text-text/90 md:text-base">44</p>
              </label>
            </div>
          </fieldset>

          <!-- Quantity -->
          <div class="mb-4 text-sm md:text-base">انتخاب تعداد</div>
          <div
            class="flex h-12 w-40 items-center justify-between rounded-lg border px-4 py-1"
          >
            <button type="button" data-action="increment">
              <svg class="h-7 w-7 text-primary">
                <use xlink:href="#plus" />
              </svg>
            </button>
            <input
              value="1"
              disabled
              type="number"
              class="flex h-6 w-6 w-full select-none items-center justify-center bg-transparent text-center outline-none"
            />
            <button type="button" data-action="decrement">
              <svg class="h-7 w-7 text-red-600 dark:text-red-500">
                <use xlink:href="#minus" />
              </svg>
            </button>
          </div>
        </div>
        <div class="grid grid-cols-1 gap-4 sm:grid-cols-2">
          <div
            class="flex items-center gap-x-2 rounded-lg border px-4 py-3 text-sm text-text/60"
          >
            <svg class="h-5 w-5">
              <use xlink:href="#refund" />
            </svg>
            هفت روز ضمانت بازگشت کالا
          </div>

          <div
            class="flex items-center gap-x-2 rounded-lg border px-4 py-3 text-sm text-text/60"
          >
            <svg class="h-6 w-6">
              <use xlink:href="#verified" />
            </svg>
            تضمین اصالت کالا
          </div>
          <div
            class="flex items-center gap-x-2 rounded-lg border px-4 py-3 text-sm text-text/60"
          >
            <svg class="h-6 w-6">
              <use xlink:href="#support" />
            </svg>
            هفت روز هفته
          </div>
          <div
            class="flex items-center gap-x-2 rounded-lg border px-4 py-3 text-sm text-text/60"
          >
            <svg class="h-6 w-6">
              <use xlink:href="#fast-delivery" />
            </svg>
            تحویل اکسپرس در تهران, کرج
          </div>
        </div>
      </div>
      <!-- Property -->
      <div class="mb-6 rounded-lg bg-muted p-4 shadow-base lg:hidden">
        <p class="mb-6">ویژگی های محصول</p>

        <ul class="space-y-4">
          <li class="flex gap-x-2">
            <div class="min-w-fit text-sm text-text/60">جنس :</div>
            <div class="text-sm text-text/90">پارچه</div>
          </li>
          <li class="flex gap-x-2">
            <div class="min-w-fit text-sm text-text/60">جنس زیره :</div>
            <div class="text-sm text-text/90">لاستیک</div>
          </li>
          <li class="flex gap-x-2">
            <div class="min-w-fit text-sm text-text/60">
              نحوه بسته شدن کفش :
            </div>
            <div class="text-sm text-text/90">بندی</div>
          </li>
        </ul>
      </div>

      <!-- Add to Cart -->
      <div class="fixed inset-x-0 bottom-0 z-10 bg-muted p-5">
        <div class="flex items-center justify-between gap-x-6">
          <!-- Button -->
          <div class="flex grow">
            <button class="btn-primary w-full px-4 py-3 text-sm">
              افزودن به سبد خرید
            </button>
          </div>
          <!-- Price -->
          <div class="space-y-1">
            <!-- Old Price -->
            <div class="flex items-center gap-x-2">
              <div>
                <del
                  class="text-sm text-text/60 decoration-warning md:text-base"
                >
                  10,000,000
                </del>
              </div>
              <div
                class="flex w-10 items-center justify-center rounded-full bg-warning py-0.5 text-sm font-bold text-white dark:bg-red-600"
              >
                50%
              </div>
            </div>
            <!-- New Price -->
            <div class="text-primary">
              <span class="font-semibold">1,200,000</span>
              <span class="text-sm font-light">تومان</span>
            </div>
          </div>
        </div>
      </div>
    </div>
    {% if related_products %}
    <div class="mb-6">
      <div>
        <!-- Section Header -->
        <div class="mb-4 flex items-center justify-between">
          <h3 class="font-medium md:text-lg lg:text-xl">کالاهای مرتبط</h3>
        </div>
        <!-- Section Content -->
        <div class="swiper product-slider p-px">
          <div class="swiper-wrapper">
            {% for product in related_products %}
            <div class="swiper-slide">
              <div
                class="border-gradient group relative rounded-base p-px before:absolute before:-inset-px before:h-[calc(100%+2px)] before:w-[calc(100%+2px)] before:rounded-base"
              >
                <!-- Product Card -->
                <div
                  class="relative rounded-xl bg-muted p-2 shadow-base md:p-5"
                >
                  <!-- image -->
                  <div class="mb-2 md:mb-5" draggable="false">
                    <a href="{{ product.get_url }}">
                      <img
                        alt=""
                        class="mx-auto w-32 rounded-lg md:w-auto"
                        src="{{ product.main_image.image.url }}"
                      />
                    </a>
                  </div>
                  <!-- title -->
                  <div class="mb-2">
                    <a
                      class="line-clamp-2 h-10 text-sm md:h-12 md:text-base"
                      href="{{ product.get_url }}"
                    >
                      {{ product.title }}
                    </a>
                  </div>
                  <!-- Prices -->
                  <div class="flex flex-col">
                    {% if product.is_special %}
                    <!-- Old price -->
                    <div class="h-5 text-left">
                      <del
                        class="text-sm text-text/60 decoration-warning md:text-base"
                      >
                        {{ product.price|comma_separate }}
                      </del>
                    </div>
                    <div class="flex items-center justify-between">
                      <div>
                        <p
                          class="w-9 rounded-full bg-warning py-px text-center text-sm text-white"
                        >
                          {{ product.discount_percent }}%
                        </p>
                      </div>
                      <!-- New price -->
                      <div class="text-sm font-bold text-primary md:text-base">
                        {{ product.discounted_price|comma_separate }}
                        <span class="text-xs font-light md:text-sm">تومان</span>
                      </div>
                    </div>

                    {% else %}
                    <!-- Old price -->
                    <div class="h-5 text-left"></div>
                    <div class="flex items-center justify-between">
                      <div></div>
                      <!-- New price -->
                      <div class="text-sm font-bold text-primary md:text-base">
                        {{ product.price|comma_separate }}
                        <span class="text-xs font-light md:text-sm">تومان</span>
                      </div>
                    </div>
                    {% endif %}
                  </div>
                </div>
              </div>
            </div>
            {% endfor %}
          </div>
          <div class="swiper-button-next"></div>
          <div class="swiper-button-prev"></div>
        </div>
      </div>
    </div>
    {% endif %}
    <!-- description / specs / commment  -->
    <div class="rounded-lg bg-muted p-4 shadow-base">
      <div class="mb-6">
        <ul
          class="-mb-px flex justify-between gap-x-2 border-b text-center text-sm font-medium xs:justify-start xs:gap-x-4 xs:text-base"
        >
          <li>
            <a
              href="#description"
              class="inline-block rounded-t-lg border-b-2 border-transparent px-2 pb-2 hover: text-text/90 dark:hover:text-zinc-300"
            >
              معرفی
            </a>
          </li>
          <li>
            <a
              href="#specs"
              class="inline-block rounded-t-lg border-b-2 border-transparent px-2 pb-2 hover: text-text/90 dark:hover:text-zinc-300"
            >
              مشخصات
            </a>
          </li>
        </ul>
      </div>
      <div class="space-y-16 divide-y">
        <div class="py-6" id="description">
          <div class="relative mb-16 w-fit text-xl font-medium">
            معرفی
            <span
              class="absolute right-0 top-10 h-[3px] w-full rounded-full bg-primary"
            >
            </span>
          </div>
          <div
            class="mb-6 max-h-[500px] overflow-hidden md:mb-10"
            id="descriptionContainer"
          >
            <div
              class="space-y-4 text-sm leading-loose text-text/90 lg:text-base"
            >
              {{ product.description|safe }}
            </div>
          </div>
          <div class="flex justify-center">
            <button
              class="btn-secondary-nobg hidden md:flex"
              id="toggleDescriptionButton"
            >
              مشاهده بیشتر
              <svg class="h-5 w-5">
                <use xlink:href="#chevron-left" />
              </svg>
            </button>
            <button
              id="descriptionButtonMobile"
              aria-controls="mobile-description-drawer-navigation"
              data-drawer-show="mobile-description-drawer-navigation"
              data-drawer-placement="bottom"
              data-drawer-target="mobile-description-drawer-navigation"
              type="button"
              class="btn-secondary-nobg md:hidden"
            >
              مشاهده بیشتر
              <svg class="h-5 w-5">
                <use xlink:href="#chevron-left" />
              </svg>
            </button>
          </div>
        </div>
        <div class="py-6" id="specs">
          <div class="relative mb-16 w-fit text-xl font-medium">
            مشخصات
            <span
              class="absolute right-0 top-10 h-[3px] w-full rounded-full bg-primary"
            >
            </span>
          </div>
          <div
            class="mb-6 max-h-[500px] overflow-hidden md:mb-10"
            id="specsContainer"
          >
            <ul class="space-y-6 text-sm">
              <li class="grid grid-cols-3 gap-x-2 lg:grid-cols-5">
                <div class="col-span-1 text-text/60">رنگ</div>
                <div
                  class="col-span-2 border-b pb-4 text-text/90 lg:col-span-4"
                >
                  <ul class="space-y-4">
                    <li>{% if product.color %} {{ product.color }} {% else %} {% endif %}</li>
                  </ul>
                </div>
              </li>
              <li class="grid grid-cols-3 gap-x-2 lg:grid-cols-5">
                <div class="col-span-1 text-text/60">اندازه</div>
                <div
                  class="col-span-2 border-b pb-4 text-text/90 lg:col-span-4"
                >
                  <ul class="space-y-4">
                    <li>{% if product.size %} {{ product.size }} {% else %} {% endif %}</li>
                  </ul>
                </div>
              </li>
              <li class="grid grid-cols-3 gap-x-2 lg:grid-cols-5">
                <div class="col-span-1 text-text/60"></div>
                <div
                  class="col-span-2 border-b pb-4 text-text/90 lg:col-span-4"
                >
                  <ul class="space-y-4">
                    <li>{% if product.material %} {{ product.material }} {% else %} {% endif %}</li>
                  </ul>
                </div>
              </li>
              <li class="grid grid-cols-3 gap-x-2 lg:grid-cols-5">
                <div class="col-span-1 text-text/60">ویژگی های بیشتر</div>
                <div class="col-span-2 pb-4 text-text/90 lg:col-span-4">
                    <p
                      class="line-clamp-4 text-sm leading-relaxed text-text/90"
                    > {% if product.extra_features %} {{ product.extra_features }} {% else %} {% endif %}
                    </p>
                </div>
              </li>
            </ul>
          </div>
          <div class="flex justify-center">
            <button
              class="btn-secondary-nobg hidden md:flex"
              id="toggleSpecsButton"
            >
              مشاهده بیشتر
              <svg class="h-5 w-5">
                <use xlink:href="#chevron-left" />
              </svg>
            </button>
            <button
              id="specsButtonMobile"
              class="btn-secondary-nobg md:hidden"
              aria-controls="mobile-spec-drawer-navigation"
              data-drawer-show="mobile-spec-drawer-navigation"
              data-drawer-placement="bottom"
              data-drawer-target="mobile-spec-drawer-navigation"
              type="button"
            >
              مشاهده بیشتر
              <svg class="h-5 w-5">
                <use xlink:href="#chevron-left" />
              </svg>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>
<!-- Product Gallery modal -->
<div
  id="product-gallery-modal"
  tabindex="-1"
  aria-hidden="true"
  class="main-scroll fixed left-0 right-0 top-0 z-50 hidden h-[calc(100%-1rem)] max-h-full w-full overflow-y-auto overflow-x-hidden p-4 md:inset-0"
>
  <div class="relative max-h-full w-full max-w-7xl">
    <div
      class="divide-y overflow-hidden rounded-lg bg-muted shadow ring-1 ring-gray-100 dark:ring-white/5"
    >
      <div class="px-4 py-5 sm:px-6">
        <div class="flex items-center justify-between">
          <h3 class="line-clamp-1 md:text-lg">تصاویر {{ product.title }}</h3>
          <button
            class=" "
            data-modal-hide="product-gallery-modal"
            type="button"
          >
            <svg class="h-5 w-5">
              <use xlink:href="#close" />
            </svg>

            <span class="sr-only">Close menu</span>
          </button>
        </div>
      </div>
      <div>
        <div class="flex flex-col gap-4">
          <div class="border-b p-6">
            <div class="swiper product-image-desktop-swiper">
              <div class="swiper-wrapper">
                {% for image_item in product_images %}
                <div class="swiper-slide">
                  <img
                    src="{{ image_item.image.url }}"
                    alt="{{ image_item.image_alt }}"
                    class="mx-auto min-h-[500px] min-w-[500px]"
                    loading="lazy"
                  />
                </div>
                {% endfor %}
              </div>
              <div class="swiper-pagination"></div>
              <div class="swiper-button-next hidden md:flex"></div>
              <div class="swiper-button-prev hidden md:flex"></div>
            </div>
          </div>
          <div class="p-6">
            <div class="swiper product-image-desktop-2-swiper">
              <div class="swiper-wrapper justify-center">
                {% for image_item in product_images %}
                <div class="swiper-slide rounded-lg border">
                  <img
                    src="{{ image_item.image.url }}"
                    alt="{{ image_item.image_alt }}"
                    class="mx-auto h-25 w-25"
                    loading="lazy"
                  />
                </div>
                {% endfor %}
              </div>
              <div class="swiper-button-next hidden md:flex"></div>
              <div class="swiper-button-prev hidden md:flex"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Mobile Comments modal -->
<div
  aria-labelledby="mobile-comments-drawer-navigation-label"
  class="fixed bottom-0 left-0 right-0 z-40 h-full w-full translate-y-full bg-muted transition-transform duration-300"
  id="mobile-comments-drawer-navigation"
  tabindex="-1"
>
  <div class="flex items-center justify-between gap-x-4 border-b p-4 pb-5">
    <h5 class="text-lg text-text/90">دیدگاه ها</h5>
    <button
      aria-controls="mobile-comments-drawer-navigation"
      class="inline-flex items-center rounded-lg bg-transparent p-1.5 text-sm text-text/90 hover:bg-zinc-100 hover:text-gray-900 dark:hover:bg-black dark:hover:text-white"
      data-drawer-hide="mobile-comments-drawer-navigation"
      type="button"
    >
      <svg class="h-5 w-5">
        <use xlink:href="#close" />
      </svg>

      <span class="sr-only">Close menu</span>
    </button>
  </div>

  <div class="h-full overflow-y-auto p-4 pb-32">
    <ul class="space-y-6">
      <li>
        <div class="flex h-64 flex-col rounded-lg border px-4 py-6">
          <!-- head -->
          <div class="flex items-center justify-between mb-4">
            <div class="flex items-center gap-x-2 text-primary">
              <svg class="h-5 w-5">
                <use xlink:href="#like" />
              </svg>
              پیشنهاد میکنم
            </div>
            <button
              data-modal-target="submit-answers-to-comments-drawer-navigation"
              data-modal-toggle="submit-answers-to-comments-drawer-navigation"
              type="button"
              class="btn-secondary-nobg"
            >
              پاسخ
              <svg class="w-5 h-5">
                <use xlink:href="#chevron-left" />
              </svg>
            </button>
          </div>
          <!-- Comment -->
          <div class="flex-grow space-y-2">
            <h5 class="text-sm leading-relaxed">
              با این قیمت کاملا مناسب و خوبه
            </h5>
            <p class="line-clamp-4 text-sm leading-relaxed text-text/90">
              برا کسایی که نمیخوان هزینه بالایی کنن گزینه خیلی خوبیه
            </p>
          </div>
          <!-- Footer -->
          <div class="flex items-center justify-between">
            <div class="flex items-center gap-x-4">
              <button class="relative text-primary">
                <svg class="h-6 w-6">
                  <use xlink:href="#like" />
                </svg>
                <span class="absolute -right-2 top-6 text-sm"> 32 </span>
              </button>
              <button class="relative text-red-500 dark:text-red-400">
                <svg class="h-6 w-6">
                  <use xlink:href="#dislike" />
                </svg>
                <span class="absolute -right-2 top-6 text-sm"> 76 </span>
              </button>
            </div>
            <div class="flex items-center gap-x-2">
              <div class="text-xs text-text/60">10 شهریور 1403</div>
              <span
                class="h-3 w-px rounded-full bg-background dark:bg-muted/10"
              ></span>
              <div class="text-xs text-text/60">خریدار</div>
            </div>
          </div>
        </div>
      </li>
      <li>
        <div class="flex h-64 flex-col rounded-lg border px-4 py-6">
          <!-- head -->
          <div class="flex items-center justify-between mb-4">
            <div class="flex items-center gap-x-2 text-primary">
              <svg class="h-5 w-5">
                <use xlink:href="#like" />
              </svg>
              پیشنهاد میکنم
            </div>
            <button
              data-modal-target="submit-answers-to-comments-drawer-navigation"
              data-modal-toggle="submit-answers-to-comments-drawer-navigation"
              type="button"
              class="btn-secondary-nobg"
            >
              پاسخ
              <svg class="w-5 h-5">
                <use xlink:href="#chevron-left" />
              </svg>
            </button>
          </div>
          <!-- Comment -->
          <div class="flex-grow space-y-2">
            <h5 class="text-sm leading-relaxed">
              با این قیمت کاملا مناسب و خوبه
            </h5>
            <p class="line-clamp-4 text-sm leading-relaxed text-text/90">
              برا کسایی که نمیخوان هزینه بالایی کنن گزینه خیلی خوبیه
            </p>
          </div>
          <!-- Footer -->
          <div class="flex items-center justify-between">
            <div class="flex items-center gap-x-4">
              <button class="relative text-primary">
                <svg class="h-6 w-6">
                  <use xlink:href="#like" />
                </svg>
                <span class="absolute -right-2 top-6 text-sm"> 32 </span>
              </button>
              <button class="relative text-red-500 dark:text-red-400">
                <svg class="h-6 w-6">
                  <use xlink:href="#dislike" />
                </svg>
                <span class="absolute -right-2 top-6 text-sm"> 76 </span>
              </button>
            </div>
            <div class="flex items-center gap-x-2">
              <div class="text-xs text-text/60">10 شهریور 1403</div>
              <span
                class="h-3 w-px rounded-full bg-background dark:bg-muted/10"
              ></span>
              <div class="text-xs text-text/60">خریدار</div>
            </div>
          </div>
        </div>
      </li>

      <li>
        <div class="flex h-64 flex-col rounded-lg border px-4 py-6">
          <!-- head -->
          <div class="flex items-center justify-between mb-4">
            <div class="flex items-center gap-x-2 text-primary">
              <svg class="h-5 w-5">
                <use xlink:href="#like" />
              </svg>
              پیشنهاد میکنم
            </div>
            <button
              data-modal-target="submit-answers-to-comments-drawer-navigation"
              data-modal-toggle="submit-answers-to-comments-drawer-navigation"
              type="button"
              class="btn-secondary-nobg"
            >
              پاسخ
              <svg class="w-5 h-5">
                <use xlink:href="#chevron-left" />
              </svg>
            </button>
          </div>
          <!-- Comment -->
          <div class="flex-grow space-y-2">
            <h5 class="text-sm leading-relaxed">
              با این قیمت کاملا مناسب و خوبه
            </h5>
            <p class="line-clamp-4 text-sm leading-relaxed text-text/90">
              برا کسایی که نمیخوان هزینه بالایی کنن گزینه خیلی خوبیه
            </p>
          </div>
          <!-- Footer -->
          <div class="flex items-center justify-between">
            <div class="flex items-center gap-x-4">
              <button class="relative text-primary">
                <svg class="h-6 w-6">
                  <use xlink:href="#like" />
                </svg>
                <span class="absolute -right-2 top-6 text-sm"> 32 </span>
              </button>
              <button class="relative text-red-500 dark:text-red-400">
                <svg class="h-6 w-6">
                  <use xlink:href="#dislike" />
                </svg>
                <span class="absolute -right-2 top-6 text-sm"> 76 </span>
              </button>
            </div>
            <div class="flex items-center gap-x-2">
              <div class="text-xs text-text/60">10 شهریور 1403</div>
              <span
                class="h-3 w-px rounded-full bg-background dark:bg-muted/10"
              ></span>
              <div class="text-xs text-text/60">خریدار</div>
            </div>
          </div>
        </div>
      </li>
      <li>
        <div class="flex h-64 flex-col rounded-lg border px-4 py-6">
          <!-- head -->
          <div class="flex items-center justify-between mb-4">
            <div class="flex items-center gap-x-2 text-primary">
              <svg class="h-5 w-5">
                <use xlink:href="#like" />
              </svg>
              پیشنهاد میکنم
            </div>
            <button
              data-modal-target="submit-answers-to-comments-drawer-navigation"
              data-modal-toggle="submit-answers-to-comments-drawer-navigation"
              type="button"
              class="btn-secondary-nobg"
            >
              پاسخ
              <svg class="w-5 h-5">
                <use xlink:href="#chevron-left" />
              </svg>
            </button>
          </div>
          <!-- Comment -->
          <div class="flex-grow space-y-2">
            <h5 class="text-sm leading-relaxed">
              با این قیمت کاملا مناسب و خوبه
            </h5>
            <p class="line-clamp-4 text-sm leading-relaxed text-text/90">
              برا کسایی که نمیخوان هزینه بالایی کنن گزینه خیلی خوبیه
            </p>
          </div>
          <!-- Footer -->
          <div class="flex items-center justify-between">
            <div class="flex items-center gap-x-4">
              <button class="relative text-primary">
                <svg class="h-6 w-6">
                  <use xlink:href="#like" />
                </svg>
                <span class="absolute -right-2 top-6 text-sm"> 32 </span>
              </button>
              <button class="relative text-red-500 dark:text-red-400">
                <svg class="h-6 w-6">
                  <use xlink:href="#dislike" />
                </svg>
                <span class="absolute -right-2 top-6 text-sm"> 76 </span>
              </button>
            </div>
            <div class="flex items-center gap-x-2">
              <div class="text-xs text-text/60">10 شهریور 1403</div>
              <span
                class="h-3 w-px rounded-full bg-background dark:bg-muted/10"
              ></span>
              <div class="text-xs text-text/60">خریدار</div>
            </div>
          </div>
        </div>
      </li>
      <li>
        <div class="flex h-64 flex-col rounded-lg border px-4 py-6">
          <!-- head -->
          <div class="flex items-center justify-between mb-4">
            <div class="flex items-center gap-x-2 text-primary">
              <svg class="h-5 w-5">
                <use xlink:href="#like" />
              </svg>
              پیشنهاد میکنم
            </div>
            <button
              data-modal-target="submit-answers-to-comments-drawer-navigation"
              data-modal-toggle="submit-answers-to-comments-drawer-navigation"
              type="button"
              class="btn-secondary-nobg"
            >
              پاسخ
              <svg class="w-5 h-5">
                <use xlink:href="#chevron-left" />
              </svg>
            </button>
          </div>
          <!-- Comment -->
          <div class="flex-grow space-y-2">
            <h5 class="text-sm leading-relaxed">
              با این قیمت کاملا مناسب و خوبه
            </h5>
            <p class="line-clamp-4 text-sm leading-relaxed text-text/90">
              برا کسایی که نمیخوان هزینه بالایی کنن گزینه خیلی خوبیه
            </p>
          </div>
          <!-- Footer -->
          <div class="flex items-center justify-between">
            <div class="flex items-center gap-x-4">
              <button class="relative text-primary">
                <svg class="h-6 w-6">
                  <use xlink:href="#like" />
                </svg>
                <span class="absolute -right-2 top-6 text-sm"> 32 </span>
              </button>
              <button class="relative text-red-500 dark:text-red-400">
                <svg class="h-6 w-6">
                  <use xlink:href="#dislike" />
                </svg>
                <span class="absolute -right-2 top-6 text-sm"> 76 </span>
              </button>
            </div>
            <div class="flex items-center gap-x-2">
              <div class="text-xs text-text/60">10 شهریور 1403</div>
              <span
                class="h-3 w-px rounded-full bg-background dark:bg-muted/10"
              ></span>
              <div class="text-xs text-text/60">خریدار</div>
            </div>
          </div>
        </div>
      </li>
      <li>
        <div class="flex h-64 flex-col rounded-lg border px-4 py-6">
          <!-- head -->
          <div class="flex items-center justify-between mb-4">
            <div class="flex items-center gap-x-2 text-primary">
              <svg class="h-5 w-5">
                <use xlink:href="#like" />
              </svg>
              پیشنهاد میکنم
            </div>
            <button
              data-modal-target="submit-answers-to-comments-drawer-navigation"
              data-modal-toggle="submit-answers-to-comments-drawer-navigation"
              type="button"
              class="btn-secondary-nobg"
            >
              پاسخ
              <svg class="w-5 h-5">
                <use xlink:href="#chevron-left" />
              </svg>
            </button>
          </div>
          <!-- Comment -->
          <div class="flex-grow space-y-2">
            <h5 class="text-sm leading-relaxed">
              با این قیمت کاملا مناسب و خوبه
            </h5>
            <p class="line-clamp-4 text-sm leading-relaxed text-text/90">
              برا کسایی که نمیخوان هزینه بالایی کنن گزینه خیلی خوبیه
            </p>
          </div>
          <!-- Footer -->
          <div class="flex items-center justify-between">
            <div class="flex items-center gap-x-4">
              <button class="relative text-primary">
                <svg class="h-6 w-6">
                  <use xlink:href="#like" />
                </svg>
                <span class="absolute -right-2 top-6 text-sm"> 32 </span>
              </button>
              <button class="relative text-red-500 dark:text-red-400">
                <svg class="h-6 w-6">
                  <use xlink:href="#dislike" />
                </svg>
                <span class="absolute -right-2 top-6 text-sm"> 76 </span>
              </button>
            </div>
            <div class="flex items-center gap-x-2">
              <div class="text-xs text-text/60">10 شهریور 1403</div>
              <span
                class="h-3 w-px rounded-full bg-background dark:bg-muted/10"
              ></span>
              <div class="text-xs text-text/60">خریدار</div>
            </div>
          </div>
        </div>
      </li>
      <li>
        <div class="flex h-64 flex-col rounded-lg border px-4 py-6">
          <!-- head -->
          <div class="flex items-center justify-between mb-4">
            <div class="flex items-center gap-x-2 text-primary">
              <svg class="h-5 w-5">
                <use xlink:href="#like" />
              </svg>
              پیشنهاد میکنم
            </div>
            <button
              data-modal-target="submit-answers-to-comments-drawer-navigation"
              data-modal-toggle="submit-answers-to-comments-drawer-navigation"
              type="button"
              class="btn-secondary-nobg"
            >
              پاسخ
              <svg class="w-5 h-5">
                <use xlink:href="#chevron-left" />
              </svg>
            </button>
          </div>
          <!-- Comment -->
          <div class="flex-grow space-y-2">
            <h5 class="text-sm leading-relaxed">
              با این قیمت کاملا مناسب و خوبه
            </h5>
            <p class="line-clamp-4 text-sm leading-relaxed text-text/90">
              برا کسایی که نمیخوان هزینه بالایی کنن گزینه خیلی خوبیه
            </p>
          </div>
          <!-- Footer -->
          <div class="flex items-center justify-between">
            <div class="flex items-center gap-x-4">
              <button class="relative text-primary">
                <svg class="h-6 w-6">
                  <use xlink:href="#like" />
                </svg>
                <span class="absolute -right-2 top-6 text-sm"> 32 </span>
              </button>
              <button class="relative text-red-500 dark:text-red-400">
                <svg class="h-6 w-6">
                  <use xlink:href="#dislike" />
                </svg>
                <span class="absolute -right-2 top-6 text-sm"> 76 </span>
              </button>
            </div>
            <div class="flex items-center gap-x-2">
              <div class="text-xs text-text/60">10 شهریور 1403</div>
              <span
                class="h-3 w-px rounded-full bg-background dark:bg-muted/10"
              ></span>
              <div class="text-xs text-text/60">خریدار</div>
            </div>
          </div>
        </div>
      </li>
      <li>
        <div class="flex h-64 flex-col rounded-lg border px-4 py-6">
          <!-- head -->
          <div class="flex items-center justify-between mb-4">
            <div class="flex items-center gap-x-2 text-primary">
              <svg class="h-5 w-5">
                <use xlink:href="#like" />
              </svg>
              پیشنهاد میکنم
            </div>
            <button
              data-modal-target="submit-answers-to-comments-drawer-navigation"
              data-modal-toggle="submit-answers-to-comments-drawer-navigation"
              type="button"
              class="btn-secondary-nobg"
            >
              پاسخ
              <svg class="w-5 h-5">
                <use xlink:href="#chevron-left" />
              </svg>
            </button>
          </div>
          <!-- Comment -->
          <div class="flex-grow space-y-2">
            <h5 class="text-sm leading-relaxed">
              با این قیمت کاملا مناسب و خوبه
            </h5>
            <p class="line-clamp-4 text-sm leading-relaxed text-text/90">
              برا کسایی که نمیخوان هزینه بالایی کنن گزینه خیلی خوبیه
            </p>
          </div>
          <!-- Footer -->
          <div class="flex items-center justify-between">
            <div class="flex items-center gap-x-4">
              <button class="relative text-primary">
                <svg class="h-6 w-6">
                  <use xlink:href="#like" />
                </svg>
                <span class="absolute -right-2 top-6 text-sm"> 32 </span>
              </button>
              <button class="relative text-red-500 dark:text-red-400">
                <svg class="h-6 w-6">
                  <use xlink:href="#dislike" />
                </svg>
                <span class="absolute -right-2 top-6 text-sm"> 76 </span>
              </button>
            </div>
            <div class="flex items-center gap-x-2">
              <div class="text-xs text-text/60">10 شهریور 1403</div>
              <span
                class="h-3 w-px rounded-full bg-background dark:bg-muted/10"
              ></span>
              <div class="text-xs text-text/60">خریدار</div>
            </div>
          </div>
        </div>
      </li>
      <li>
        <div class="flex h-64 flex-col rounded-lg border px-4 py-6">
          <!-- head -->
          <div class="flex items-center justify-between mb-4">
            <div class="flex items-center gap-x-2 text-primary">
              <svg class="h-5 w-5">
                <use xlink:href="#like" />
              </svg>
              پیشنهاد میکنم
            </div>
            <button
              data-modal-target="submit-answers-to-comments-drawer-navigation"
              data-modal-toggle="submit-answers-to-comments-drawer-navigation"
              type="button"
              class="btn-secondary-nobg"
            >
              پاسخ
              <svg class="w-5 h-5">
                <use xlink:href="#chevron-left" />
              </svg>
            </button>
          </div>
          <!-- Comment -->
          <div class="flex-grow space-y-2">
            <h5 class="text-sm leading-relaxed">
              با این قیمت کاملا مناسب و خوبه
            </h5>
            <p class="line-clamp-4 text-sm leading-relaxed text-text/90">
              برا کسایی که نمیخوان هزینه بالایی کنن گزینه خیلی خوبیه
            </p>
          </div>
          <!-- Footer -->
          <div class="flex items-center justify-between">
            <div class="flex items-center gap-x-4">
              <button class="relative text-primary">
                <svg class="h-6 w-6">
                  <use xlink:href="#like" />
                </svg>
                <span class="absolute -right-2 top-6 text-sm"> 32 </span>
              </button>
              <button class="relative text-red-500 dark:text-red-400">
                <svg class="h-6 w-6">
                  <use xlink:href="#dislike" />
                </svg>
                <span class="absolute -right-2 top-6 text-sm"> 76 </span>
              </button>
            </div>
            <div class="flex items-center gap-x-2">
              <div class="text-xs text-text/60">10 شهریور 1403</div>
              <span
                class="h-3 w-px rounded-full bg-background dark:bg-muted/10"
              ></span>
              <div class="text-xs text-text/60">خریدار</div>
            </div>
          </div>
        </div>
      </li>
    </ul>
  </div>
</div>
<!-- Mobile Spec modal -->
<div
  aria-labelledby="mobile-spec-drawer-navigation-label"
  class="fixed bottom-0 left-0 right-0 z-40 h-full w-full translate-y-full bg-muted transition-transform duration-300"
  id="mobile-spec-drawer-navigation"
  tabindex="-1"
>
  <div class="flex items-center justify-between gap-x-4 border-b p-4 pb-5">
    <h5 class="text-lg text-text/90">مشخصات</h5>
    <button
      aria-controls="mobile-spec-drawer-navigation"
      class="inline-flex items-center rounded-lg bg-transparent p-1.5 text-sm text-text/90 hover:bg-zinc-100 hover:text-gray-900 dark:hover:bg-black dark:hover:text-white"
      data-drawer-hide="mobile-spec-drawer-navigation"
      type="button"
    >
      <svg class="h-5 w-5">
        <use xlink:href="#close" />
      </svg>

      <span class="sr-only">Close menu</span>
    </button>
  </div>

  <div class="h-full overflow-y-auto p-4 pb-32">
    <ul class="space-y-6 text-sm">
      <li class="grid grid-cols-3 gap-x-2 lg:grid-cols-5">
        <div class="col-span-1 text-text/60">رنگ</div>
        <div class="col-span-2 border-b pb-4 text-text/90 lg:col-span-4">
          <ul class="space-y-4">
            <li>{% if product.color %} {{ product.color }} {% else %} {% endif %}</li>
          </ul>
        </div>
      </li>
      <li class="grid grid-cols-3 gap-x-2 lg:grid-cols-5">
        <div class="col-span-1 text-text/60">اندازه</div>
        <div class="col-span-2 border-b pb-4 text-text/90 lg:col-span-4">
          <ul class="space-y-4">
            <li>{% if product.size %} {{ product.size }} {% else %} {% endif %}</li>
          </ul>
        </div>
      </li>
      <li class="grid grid-cols-3 gap-x-2 lg:grid-cols-5">
        <div class="col-span-1 text-text/60">جنس</div>
        <div class="col-span-2 border-b pb-4 text-text/90 lg:col-span-4">
          <ul class="space-y-4">
            <li>{% if product.material %} {{ product.material }} {% else %} {% endif %}</li>
          </ul>
        </div>
      </li>
      <li class="grid grid-cols-3 gap-x-2 lg:grid-cols-5">
        <div class="col-span-1 text-text/60">ویژگی های بیشتر</div>
        <div class="col-span-2 pb-4 text-text/90 lg:col-span-4">
            <p
              class="line-clamp-4 text-sm leading-relaxed text-text/90"
            > {% if product.extra_features %} {{ product.extra_features }} {% else %} {% endif %}
            </p>
        </div>
      </li>
    </ul>
  </div>
</div>
<!-- Mobile Description modal -->
<div
  aria-labelledby="mobile-description-drawer-navigation-label"
  class="fixed bottom-0 left-0 right-0 z-40 h-full w-full translate-y-full bg-muted transition-transform duration-300"
  id="mobile-description-drawer-navigation"
  tabindex="-1"
>
  <div class="flex items-center justify-between gap-x-4 border-b p-4 pb-5">
    <h5 class="text-lg text-text/90">معرفی</h5>
    <button
      aria-controls="mobile-description-drawer-navigation"
      class="inline-flex items-center rounded-lg bg-transparent p-1.5 text-sm text-text/90 hover:bg-zinc-100 hover:text-gray-900 dark:hover:bg-black dark:hover:text-white"
      data-drawer-hide="mobile-description-drawer-navigation"
      type="button"
    >
      <svg class="h-5 w-5">
        <use xlink:href="#close" />
      </svg>

      <span class="sr-only">Close menu</span>
    </button>
  </div>

  <div class="h-full overflow-y-auto p-4 pb-32">
    <div class="space-y-4 text-sm leading-loose text-text/90 lg:text-base">
      <p>
        چه در حال تمرین و چه در زندگی روزمره، این کفش‌های اورجبنال نیوبالانس
        طوری طراحی شده‌اند که در هر نوع حرکت با شما همراه باشند. جزئیات متمرکز
        بر عملکرد مانند زیره میانی DynaSoft و زیره لاستیکی بادوام به این کفش وزن
        سبک و واکنش پذیری بالایی می بخشد که performance ورزشی شما را افزایش می
        دهد. ترکیب رنگی این کفش جذابیت و شادابی دو چندانی را به استایل اسپورت
        شما می بخشد.
      </p>

      <p>
        لورم ایپسوم متن ساختگی با تولید سادگی نامفهوم از صنعت چاپ، و با استفاده
        از طراحان گرافیک است، چاپگرها و متون بلکه روزنامه و مجله در ستون و
        سطرآنچنان که لازم است، و برای شرایط فعلی تکنولوژی مورد نیاز، و کاربردهای
        متنوع با هدف بهبود ابزارهای کاربردی می باشد، کتابهای زیادی در شصت و سه
        درصد گذشته حال و آینده، شناخت فراوان جامعه و متخصصان را می طلبد، تا با
        نرم افزارها شناخت بیشتری را برای طراحان رایانه ای علی الخصوص طراحان
        خلاقی، و فرهنگ پیشرو در زبان فارسی ایجاد کرد، در این صورت می توان امید
        داشت که تمام و دشواری
      </p>
      <div class="flex justify-center">
        <img src="./assets/images/products/p2.png" alt="" />
      </div>
      <p>
        چه در حال تمرین و چه در زندگی روزمره، این کفش‌های اورجبنال نیوبالانس
        طوری طراحی شده‌اند که در هر نوع حرکت با شما همراه باشند. جزئیات متمرکز
        بر عملکرد مانند زیره میانی DynaSoft و زیره لاستیکی بادوام به این کفش وزن
        سبک و واکنش پذیری بالایی می بخشد که performance ورزشی شما را افزایش می
        دهد. ترکیب رنگی این کفش جذابیت و شادابی دو چندانی را به استایل اسپورت
        شما می بخشد.
      </p>

      <p>
        لورم ایپسوم متن ساختگی با تولید سادگی نامفهوم از صنعت چاپ، و با استفاده
        از طراحان گرافیک است، چاپگرها و متون بلکه روزنامه و مجله در ستون و
        سطرآنچنان که لازم است، و برای شرایط فعلی تکنولوژی مورد نیاز، و کاربردهای
        متنوع با هدف بهبود ابزارهای کاربردی می باشد، کتابهای زیادی در شصت و سه
        درصد گذشته حال و آینده، شناخت فراوان جامعه و متخصصان را می طلبد، تا با
        نرم افزارها شناخت بیشتری را برای طراحان رایانه ای علی الخصوص طراحان
        خلاقی، و فرهنگ پیشرو در زبان فارسی ایجاد کرد، در این صورت می توان امید
        داشت که تمام و دشواری
      </p>
      <p>
        چه در حال تمرین و چه در زندگی روزمره، این کفش‌های اورجبنال نیوبالانس
        طوری طراحی شده‌اند که در هر نوع حرکت با شما همراه باشند. جزئیات متمرکز
        بر عملکرد مانند زیره میانی DynaSoft و زیره لاستیکی بادوام به این کفش وزن
        سبک و واکنش پذیری بالایی می بخشد که performance ورزشی شما را افزایش می
        دهد. ترکیب رنگی این کفش جذابیت و شادابی دو چندانی را به استایل اسپورت
        شما می بخشد.
      </p>

      <p>
        لورم ایپسوم متن ساختگی با تولید سادگی نامفهوم از صنعت چاپ، و با استفاده
        از طراحان گرافیک است، چاپگرها و متون بلکه روزنامه و مجله در ستون و
        سطرآنچنان که لازم است، و برای شرایط فعلی تکنولوژی مورد نیاز، و کاربردهای
        متنوع با هدف بهبود ابزارهای کاربردی می باشد، کتابهای زیادی در شصت و سه
        درصد گذشته حال و آینده، شناخت فراوان جامعه و متخصصان را می طلبد، تا با
        نرم افزارها شناخت بیشتری را برای طراحان رایانه ای علی الخصوص طراحان
        خلاقی، و فرهنگ پیشرو در زبان فارسی ایجاد کرد، در این صورت می توان امید
        داشت که تمام و دشواری
      </p>
      <div class="flex justify-center">
        <img src="./assets/images/products/p2.png" alt="" />
      </div>
      <p>
        چه در حال تمرین و چه در زندگی روزمره، این کفش‌های اورجبنال نیوبالانس
        طوری طراحی شده‌اند که در هر نوع حرکت با شما همراه باشند. جزئیات متمرکز
        بر عملکرد مانند زیره میانی DynaSoft و زیره لاستیکی بادوام به این کفش وزن
        سبک و واکنش پذیری بالایی می بخشد که performance ورزشی شما را افزایش می
        دهد. ترکیب رنگی این کفش جذابیت و شادابی دو چندانی را به استایل اسپورت
        شما می بخشد.
      </p>

      <p>
        لورم ایپسوم متن ساختگی با تولید سادگی نامفهوم از صنعت چاپ، و با استفاده
        از طراحان گرافیک است، چاپگرها و متون بلکه روزنامه و مجله در ستون و
        سطرآنچنان که لازم است، و برای شرایط فعلی تکنولوژی مورد نیاز، و کاربردهای
        متنوع با هدف بهبود ابزارهای کاربردی می باشد، کتابهای زیادی در شصت و سه
        درصد گذشته حال و آینده، شناخت فراوان جامعه و متخصصان را می طلبد، تا با
        نرم افزارها شناخت بیشتری را برای طراحان رایانه ای علی الخصوص طراحان
        خلاقی، و فرهنگ پیشرو در زبان فارسی ایجاد کرد، در این صورت می توان امید
        داشت که تمام و دشواری
      </p>
    </div>
  </div>
</div>

<!-- Submit answer to Comments modal -->

<div
  id="submit-answers-to-comments-drawer-navigation"
  tabindex="-1"
  aria-hidden="true"
  class="main-scroll fixed left-0 right-0 top-0 z-50 hidden h-[calc(100%-1rem)] max-h-full w-full overflow-y-auto overflow-x-hidden p-4 md:inset-0"
>
  <div class="relative max-h-full w-full max-w-2xl">
    <div
      class="divide-y overflow-hidden rounded-lg bg-muted shadow ring-1 ring-gray-100 dark:ring-white/5"
    >
      <div class="px-4 py-5 sm:px-6">
        <div class="flex items-center justify-between">
          <h5 class="md:text-lg">ثبت پاسخ</h5>

          <button
            class=" "
            data-modal-hide="submit-answers-to-comments-drawer-navigation"
            type="button"
          >
            <svg class="h-5 w-5">
              <use xlink:href="#close" />
            </svg>

            <span class="sr-only">Close menu</span>
          </button>
        </div>
      </div>
      <div class="space-y-6 px-4 py-5 sm:p-6">
        <div class="grid grid-cols-2 gap-4">
          <div class="col-span-2">
            <label
              for="title"
              class="relative block rounded-lg border shadow-base"
            >
              <input
                type="text"
                id="title"
                class="peer w-full rounded-lg border-none bg-transparent px-4 py-3 placeholder-transparent focus:outline-none focus:ring-0"
                placeholder="عنوان دیدگاه"
              />

              <span
                class="pointer-events-none absolute start-2.5 top-0 -translate-y-1/2 bg-muted px-2 py-0.5 text-sm text-text/90 transition-all peer-placeholder-shown:top-1/2 peer-placeholder-shown:text-base peer-focus:top-0 peer-focus:text-sm"
              >
                عنوان دیدگاه
              </span>
            </label>
          </div>
          <div class="col-span-2">
            <label
              for="comment"
              class="relative block rounded-lg border shadow-base"
            >
              <textarea
                type="text"
                id="comment"
                rows="3"
                class="main-scroll peer w-full rounded-lg border-none bg-transparent px-4 py-3 placeholder-transparent focus:outline-none focus:ring-0"
                placeholder="متن دیدگاه"
              ></textarea>

              <span
                class="pointer-events-none absolute start-2.5 top-0 -translate-y-1/2 bg-muted px-2 py-0.5 text-sm text-text/90 transition-all peer-placeholder-shown:top-6 peer-placeholder-shown:text-base peer-focus:top-0 peer-focus:text-sm"
              >
                متن دیدگاه
              </span>
            </label>
          </div>
        </div>
        <div class="flex justify-end">
          <button class="btn-primary w-full px-4 py-2 md:w-auto">
            ثبت پاسخ
          </button>
        </div>
        <div class="md:hidden space-y-6">
          <div class=" ">دیگر پاسخ ها</div>
          <div class="swiper product-comments-swiper">
            <div class="swiper-wrapper">
              <!-- Comment -->
              <div class="swiper-slide">
                <div class="flex h-64 flex-col rounded-lg border px-4 py-6">
                  <!-- Comment -->
                  <div class="flex-grow space-y-2">
                    <h5 class="text-sm leading-relaxed">
                      با این قیمت کاملا مناسب و خوبه
                    </h5>
                    <p
                      class="line-clamp-4 text-sm leading-relaxed text-text/90"
                    >
                      برا کسایی که نمیخوان هزینه بالایی کنن گزینه خیلی خوبیه
                    </p>
                  </div>
                  <!-- Footer -->
                  <div class="flex items-center justify-between">
                    <div class="flex items-center gap-x-4">
                      <button class="relative text-primary">
                        <svg class="h-6 w-6">
                          <use xlink:href="#like" />
                        </svg>
                        <span class="absolute -right-2 top-6 text-sm">
                          32
                        </span>
                      </button>
                      <button class="relative text-red-500 dark:text-red-400">
                        <svg class="h-6 w-6">
                          <use xlink:href="#dislike" />
                        </svg>
                        <span class="absolute -right-2 top-6 text-sm">
                          76
                        </span>
                      </button>
                    </div>
                    <div class="flex items-center gap-x-2">
                      <div class="text-xs text-text/60">10 شهریور 1403</div>
                      <span
                        class="h-3 w-px rounded-full bg-senary-200 dark:bg-muted/10"
                      ></span>
                      <div class="text-xs text-text/60">خریدار</div>
                    </div>
                  </div>
                </div>
              </div>
              <!-- Comment -->
              <div class="swiper-slide">
                <div class="flex h-64 flex-col rounded-lg border px-4 py-6">
                  <!-- Comment -->
                  <div class="flex-grow space-y-2">
                    <h5 class="text-sm leading-relaxed">
                      با این قیمت کاملا مناسب و خوبه
                    </h5>
                    <p
                      class="line-clamp-4 text-sm leading-relaxed text-text/90"
                    >
                      برا کسایی که نمیخوان هزینه بالایی کنن گزینه خیلی خوبیه
                    </p>
                  </div>
                  <!-- Footer -->
                  <div class="flex items-center justify-between">
                    <div class="flex items-center gap-x-4">
                      <button class="relative text-primary">
                        <svg class="h-6 w-6">
                          <use xlink:href="#like" />
                        </svg>
                        <span class="absolute -right-2 top-6 text-sm">
                          32
                        </span>
                      </button>
                      <button class="relative text-red-500 dark:text-red-400">
                        <svg class="h-6 w-6">
                          <use xlink:href="#dislike" />
                        </svg>
                        <span class="absolute -right-2 top-6 text-sm">
                          76
                        </span>
                      </button>
                    </div>
                    <div class="flex items-center gap-x-2">
                      <div class="text-xs text-text/60">10 شهریور 1403</div>
                      <span
                        class="h-3 w-px rounded-full bg-senary-200 dark:bg-muted/10"
                      ></span>
                      <div class="text-xs text-text/60">خریدار</div>
                    </div>
                  </div>
                </div>
              </div>
              <!-- Comment -->
              <div class="swiper-slide">
                <div class="flex h-64 flex-col rounded-lg border px-4 py-6">
                  <!-- Comment -->
                  <div class="flex-grow space-y-2">
                    <h5 class="text-sm leading-relaxed">
                      با این قیمت کاملا مناسب و خوبه
                    </h5>
                    <p
                      class="line-clamp-4 text-sm leading-relaxed text-text/90"
                    >
                      برا کسایی که نمیخوان هزینه بالایی کنن گزینه خیلی خوبیه
                    </p>
                  </div>
                  <!-- Footer -->
                  <div class="flex items-center justify-between">
                    <div class="flex items-center gap-x-4">
                      <button class="relative text-primary">
                        <svg class="h-6 w-6">
                          <use xlink:href="#like" />
                        </svg>
                        <span class="absolute -right-2 top-6 text-sm">
                          32
                        </span>
                      </button>
                      <button class="relative text-red-500 dark:text-red-400">
                        <svg class="h-6 w-6">
                          <use xlink:href="#dislike" />
                        </svg>
                        <span class="absolute -right-2 top-6 text-sm">
                          76
                        </span>
                      </button>
                    </div>
                    <div class="flex items-center gap-x-2">
                      <div class="text-xs text-text/60">10 شهریور 1403</div>
                      <span
                        class="h-3 w-px rounded-full bg-senary-200 dark:bg-muted/10"
                      ></span>
                      <div class="text-xs text-text/60">خریدار</div>
                    </div>
                  </div>
                </div>
              </div>
              <!-- Comment -->
              <div class="swiper-slide">
                <div class="flex h-64 flex-col rounded-lg border px-4 py-6">
                  <!-- Comment -->
                  <div class="flex-grow space-y-2">
                    <h5 class="text-sm leading-relaxed">
                      با این قیمت کاملا مناسب و خوبه
                    </h5>
                    <p
                      class="line-clamp-4 text-sm leading-relaxed text-text/90"
                    >
                      برا کسایی که نمیخوان هزینه بالایی کنن گزینه خیلی خوبیه
                    </p>
                  </div>
                  <!-- Footer -->
                  <div class="flex items-center justify-between">
                    <div class="flex items-center gap-x-4">
                      <button class="relative text-primary">
                        <svg class="h-6 w-6">
                          <use xlink:href="#like" />
                        </svg>
                        <span class="absolute -right-2 top-6 text-sm">
                          32
                        </span>
                      </button>
                      <button class="relative text-red-500 dark:text-red-400">
                        <svg class="h-6 w-6">
                          <use xlink:href="#dislike" />
                        </svg>
                        <span class="absolute -right-2 top-6 text-sm">
                          76
                        </span>
                      </button>
                    </div>
                    <div class="flex items-center gap-x-2">
                      <div class="text-xs text-text/60">10 شهریور 1403</div>
                      <span
                        class="h-3 w-px rounded-full bg-senary-200 dark:bg-muted/10"
                      ></span>
                      <div class="text-xs text-text/60">خریدار</div>
                    </div>
                  </div>
                </div>
              </div>
              <!-- Comment -->
              <div class="swiper-slide">
                <div class="flex h-64 flex-col rounded-lg border px-4 py-6">
                  <!-- Comment -->
                  <div class="flex-grow space-y-2">
                    <h5 class="text-sm leading-relaxed">
                      با این قیمت کاملا مناسب و خوبه
                    </h5>
                    <p
                      class="line-clamp-4 text-sm leading-relaxed text-text/90"
                    >
                      برا کسایی که نمیخوان هزینه بالایی کنن گزینه خیلی خوبیه
                    </p>
                  </div>
                  <!-- Footer -->
                  <div class="flex items-center justify-between">
                    <div class="flex items-center gap-x-4">
                      <button class="relative text-primary">
                        <svg class="h-6 w-6">
                          <use xlink:href="#like" />
                        </svg>
                        <span class="absolute -right-2 top-6 text-sm">
                          32
                        </span>
                      </button>
                      <button class="relative text-red-500 dark:text-red-400">
                        <svg class="h-6 w-6">
                          <use xlink:href="#dislike" />
                        </svg>
                        <span class="absolute -right-2 top-6 text-sm">
                          76
                        </span>
                      </button>
                    </div>
                    <div class="flex items-center gap-x-2">
                      <div class="text-xs text-text/60">10 شهریور 1403</div>
                      <span
                        class="h-3 w-px rounded-full bg-senary-200 dark:bg-muted/10"
                      ></span>
                      <div class="text-xs text-text/60">خریدار</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  const copyToClipboardSocialShareDesktop = (button) => {
    const linkToCopy = button.getAttribute("data-link");
    if (linkToCopy) {
      navigator.clipboard
        .writeText(linkToCopy)
        .then(function () {
          const copyToClipboardSocialShareText = document.getElementById(
            "copyToClipboardSocialShareText"
          );
          copyToClipboardSocialShareText.innerText = "کپی شد !";

          // Revert the text after 5 seconds
          setTimeout(function () {
            copyToClipboardSocialShareText.innerText = "کپی کردن لینک";
          }, 5000);
        })
        .catch(function (err) {
          console.error("مشکلی در عملیات پیش آمد", err);
        });
    }
  };
  const copyToClipboardSocialShareMobile = (button) => {
    const linkToCopy = button.getAttribute("data-link");
    console.log(linkToCopy);
    if (linkToCopy) {
      navigator.clipboard
        .writeText(linkToCopy)
        .then(function () {
          const copyToClipboardSocialShareNotifyMobile =
            document.getElementById("notify-copied-social-share-link-mobile");
          copyToClipboardSocialShareNotifyMobile.classList.remove("hidden");

          // Revert the text after 5 seconds
          setTimeout(function () {
            copyToClipboardSocialShareNotifyMobile.classList.add("hidden");
          }, 5000);
        })
        .catch(function (err) {
          console.error("مشکلی در عملیات پیش آمد", err);
        });
    }
  };

  // Define a function to handle the toggling of content and buttons
  function toggleContent(container, button) {
    if (container.offsetHeight !== 500) {
      button.remove();
    }

    button.addEventListener("click", () => {
      if (container.classList.contains("max-h-[500px]")) {
        container.classList.remove("max-h-[500px]");
        button.innerHTML =
          'بستن <svg class="w-5 h-5"><use xlink:href="#chevron-left"/></svg>';
      } else {
        container.classList.add("max-h-[500px]");
        button.innerHTML =
          'مشاهده بیشتر <svg class="w-5 h-5"><use xlink:href="#chevron-left"/></svg>';
      }
    });
  }

  // Find and toggle the description content
  const descriptionContainer = document.getElementById("descriptionContainer");
  const toggleDescriptionButton = document.getElementById(
    "toggleDescriptionButton"
  );
  const descriptionButtonMobile = document.getElementById(
    "descriptionButtonMobile"
  );
  if (descriptionContainer.offsetHeight !== 500) {
    descriptionButtonMobile.remove();
  }
  toggleContent(descriptionContainer, toggleDescriptionButton);

  // Find and toggle the specs content
  const specsContainer = document.getElementById("specsContainer");
  const toggleSpecsButton = document.getElementById("toggleSpecsButton");
  const specsButtonMobile = document.getElementById("specsButtonMobile");
  if (specsContainer.offsetHeight !== 500) {
    specsButtonMobile.remove();
  }
  toggleContent(specsContainer, toggleSpecsButton);

  // Find and toggle the comments content
  const commentsContainer = document.getElementById("commentsContainer");
  const toggleCommentsButton = document.getElementById("toggleCommentsButton");
  toggleContent(commentsContainer, toggleCommentsButton);
</script>
{% endblock %}
